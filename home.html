<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NaRégua - Agendamentos</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <style>
         :root {
            --primary: #dac02d;
            /* Dourado principal */
            --primary-dark: #816a02;
            /* Dourado escuro */
            --primary-light: #b99729;
            /* Dourado claro */
            --accent: #ca9a41;
            /* Dourado de destaque */
            --white: #ffffff;
            --gray-light: #f5f5f5;
            --gray: #e0e0e0;
            --gray-dark: #333333;
            --success: #28a745;
            --warning: #fd7e14;
            --purple: #6f42c1;
            /* Tema claro */
            --background: var(--white);
            --text: var(--gray-dark);
            --card: var(--white);
            --header: var(--white);
            --footer: var(--accent);
            --footer-text: var(--white);
            --border: var(--gray);
            --hover: var(--gray);
            --selected: var(--primary);
            --disabled: var(--gray);
            --slot-bg: var(--gray-light);
            --professional-card: var(--gray-light);
        }
        /* Tema escuro */
        
        .dark-mode {
            --background: #121212;
            --text: #e0e0e0;
            --card: #1e1e1e;
            --header: #1e1e1e;
            --footer: #0a0a0a;
            --footer-text: #e0e0e0;
            --border: #333;
            --hover: #333;
            --selected: var(--primary);
            --disabled: #444;
            --slot-bg: #2a2a2a;
            --professional-card: #2a2a2a;
            --gray-light: #2a2a2a;
            --gray: #444;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--background);
            color: var(--text);
            line-height: 1.6;
            transition: background-color 0.3s, color 0.3s;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }
        /* Header Styles */
        
        header {
            background-color: var(--header);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
            transition: background-color 0.3s;
        }
        
        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .logo-icon {
            width: 40px;
            height: 40px;
        }
        
        .logo-text {
            font-size: 24px;
            font-weight: 600;
            color: var(--text);
        }
        
        .logo-text span {
            color: var(--primary);
        }
        
        .logo-text .highlight {
            color: var(--primary-dark);
        }
        
        .nav-links {
            display: flex;
            gap: 20px;
            align-items: center;
        }
        
        .nav-links a {
            text-decoration: none;
            color: var(--text);
            font-weight: 500;
            transition: color 0.3s;
        }
        
        .nav-links a:hover {
            color: var(--primary);
        }
        
        .my-appointments {
            background-color: var(--gray-light);
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: 600;
            transition: background-color 0.3s;
            color: var(--text);
        }
        
        .my-appointments:hover {
            background-color: var(--hover);
        }
        /* Botão de alternância de tema */
        
        .theme-toggle {
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            color: var(--text);
            transition: transform 0.3s;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }
        
        .theme-toggle:hover {
            background-color: var(--hover);
            transform: rotate(30deg);
        }
        /* Main Content */
        
        .welcome-section {
            background-color: var(--card);
            border-radius: 10px;
            margin: 20px 0;
            padding: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            transition: background-color 0.3s;
        }
        
        .profile-pic {
            width: 80px;
            height: 80px;
            background-color: var(--gray);
            border-radius: 50%;
            margin-bottom: 15px;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .welcome-text {
            font-size: 18px;
            color: var(--text);
            margin-bottom: 10px;
        }
        
        .barbershop-name {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 20px;
            color: var(--text);
        }
        /* Novos estilos para os ícones sociais e endereço */
        
        .social-icons-welcome {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 15px 0;
        }
        
        .social-icon-welcome {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
            box-shadow: 0 2px 8px rgba(26, 75, 140, 0.10);
            position: relative;
            overflow: hidden;
            color: #fff;
            transition: transform 0.18s, box-shadow 0.25s;
        }
        
        .social-icon-welcome[aria-label="Instagram"] {
            background: radial-gradient(circle at 30% 110%, #fdf497 0%, #fdf497 5%, #fd5949 45%, #d6249f 60%, #285AEB 90%);
            border-color: 1px #d6249f;
        }
        
        .social-icon-welcome[aria-label="WhatsApp"] {
            background: linear-gradient(135deg, #25d366 60%, #128c7e 100%);
            border-color: 1.5px #25d366;
        }
        
        .social-icon-welcome i {
            color: #fff;
            transition: transform 0.18s;
        }
        
        .social-icon-welcome:hover,
        .social-icon-welcome:focus {
            transform: translateY(-3px) scale(1.08) rotate(-8deg);
            box-shadow: 0 6px 18px rgba(34, 51, 108, 0.18);
        }
        
        .social-icon-welcome:active {
            transform: scale(0.96);
        }
        
        @media (max-width: 768px) {
            .social-icon-welcome {
                width: 38px;
                height: 38px;
                font-size: 18px;
            }
        }
        
        .address-container {
            text-align: center;
            margin-top: 15px;
        }
        
        .address-toggle {
            background: none;
            border: none;
            color: var(--primary);
            font-size: 16px;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 15px;
            border-radius: 20px;
            transition: all 0.3s ease;
        }
        
        .address-toggle:hover {
            background-color: rgba(26, 75, 140, 0.1);
        }
        
        .address-content {
            display: none;
            margin-top: 10px;
            padding: 15px;
            background-color: var(--gray-light);
            border-radius: 10px;
            animation: fadeIn 0.3s ease;
        }
        
        .address-content p {
            margin: 5px 0;
            color: var(--text);
        }
        
        .map-link {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            margin-top: 10px;
            color: var(--primary);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }
        
        .map-link:hover {
            color: var(--accent);
        }
        /* Dark mode adjustments */
        
        .dark-mode .address-content {
            background-color: var(--professional-card);
        }
        /* Services Section */
        
        .services-section {
            background-color: var(--card);
            border-radius: 10px;
            margin: 20px 0;
            padding: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            transition: background-color 0.3s;
        }
        
        .section-title {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 20px;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .section-title i {
            color: var(--primary-dark);
        }
        
        .service-list {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .service-item {
            background-color: var(--gray-light);
            padding: 20px;
            border-radius: 10px;
            display: flex;
            align-items: flex-start;
            /* Alinha o conteúdo ao topo */
            gap: 18px;
            /* Espaço entre imagem e texto */
            margin-bottom: 18px;
        }
        
        .service-info {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            /* Alinha texto à esquerda */
            justify-content: flex-start;
            flex: 1;
        }
        
        .service-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }
        
        .service-name {
            font-size: 18px;
            font-weight: 600;
            color: var(--text);
        }
        
        .service-details {
            display: flex;
            gap: 20px;
            color: var(--text);
            font-size: 14px;
        }
        
        .service-time,
        .service-price {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .book-button {
            background-color: var(--gray-light);
            border: 0.5px var(--gray-dark) solid;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            transition: background-color 0.3s, transform 0.2s;
            color: var(--text);
        }
        
        .book-button:hover {
            background-color: var(--hover);
            transform: scale(1.05);
        }
        
        .book-button.selected {
            background-color: var(--success);
            color: var(--white);
        }
        /* Adicione este bloco para as imagens dos serviços */
        
        .service-image {
            width: 60px;
            height: 60px;
            border-radius: 10px;
            object-fit: cover;
            margin-right: 18px;
            background: #f0f0f0;
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        /* Responsividade para as imagens dos serviços */
        
        @media (max-width: 768px) {
            .service-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            .service-image {
                margin: 0 0 10px 0;
                width: 70px;
                height: 70px;
            }
        }
        
        @media (max-width: 480px) {
            .service-image {
                width: 60px;
                height: 60px;
            }
        }
        /* Professional Selection */
        
        .professionals-section {
            background-color: var(--card);
            border-radius: 10px;
            margin: 20px 0;
            padding: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            transition: background-color 0.3s;
        }
        
        .professional-list {
            display: flex;
            gap: 15px;
            overflow-x: auto;
            padding: 10px 0;
            scrollbar-width: thin;
        }
        
        .professional-list::-webkit-scrollbar {
            height: 6px;
        }
        
        .professional-list::-webkit-scrollbar-track {
            background: var(--gray-light);
            border-radius: 10px;
        }
        
        .professional-list::-webkit-scrollbar-thumb {
            background-color: var(--gray);
            border-radius: 10px;
        }
        
        .professional-card {
            min-width: 150px;
            background-color: var(--professional-card);
            border-radius: 10px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .professional-card.selected {
            border: 2px solid var(--primary);
            background-color: rgba(26, 75, 140, 0.05);
        }
        
        .professional-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .professional-avatar {
            width: 60px;
            height: 60px;
            background-color: var(--gray);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }
        
        .professional-name {
            font-weight: 600;
            text-align: center;
            color: var(--text);
        }
        /* Calendar Section */
        
        .calendar-section {
            background-color: var(--card);
            border-radius: 10px;
            margin: 20px 0;
            padding: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            display: none;
            transition: background-color 0.3s;
        }
        
        .calendar-month {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .month-name {
            font-size: 20px;
            font-weight: 600;
            color: var(--text);
        }
        
        .calendar-nav {
            display: flex;
            gap: 15px;
        }
        
        .calendar-nav button {
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            color: var(--text);
            transition: color 0.3s;
        }
        
        .calendar-nav button:hover {
            color: var(--primary);
        }
        
        .calendar-days {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 10px;
            text-align: center;
        }
        
        .day-header {
            font-weight: 600;
            color: var(--text);
        }
        
        .day {
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            cursor: pointer;
            transition: background-color 0.3s;
            color: var(--text);
        }
        
        .day:hover {
            background-color: var(--hover);
        }
        
        .day.selected {
            background: var(--primary) !important;
            /* fundo azul */
            color: #fff !important;
            border: 1.5px solid #007bff !important;
        }
        
        .day.disabled {
            color: var(--disabled);
            cursor: not-allowed;
        }
        
        .day.holiday {
            color: orange !important;
            font-weight: 600;
        }
        
        .holiday-tooltip {
            display: none !important;
        }
        
        .day.today {
            color: #1fa463;
            border: #28a745 2px solid !important;
        }
        
        .day.saturday,
        .day.sunday {
            color: #e53935 !important;
        }
        
        .day.past-day {
            color: #ffb366 !important;
            /* laranja claro */
            background: none !important;
            cursor: not-allowed !important;
            pointer-events: none !important;
            opacity: 0.7;
        }
        
        .calendar-toggle-btn {
            background: var(--primary);
            color: #fff;
            border: none;
            border-radius: 20px;
            padding: 8px 18px;
            font-weight: 600;
            cursor: pointer;
            margin-bottom: 18px;
            transition: background 0.3s;
        }
        
        .calendar-toggle-btn:hover {
            background: var(--accent);
        }
        
        .calendar-compact .calendar-days {
            display: flex !important;
            gap: 10px;
            overflow-x: auto;
            padding-bottom: 10px;
        }
        
        .calendar-compact .day-header {
            display: block;
            width: 40px;
            color: var(--text);
            font-weight: 600;
            font-size: 15px;
            margin-bottom: 3px;
        }
        
        .calendar-compact .day {
            min-width: 40px;
            max-width: 40px;
            height: 60px;
            flex-direction: column;
            border-radius: 12px;
            background: var(--gray-light);
            font-size: 18px;
            font-weight: 500;
            margin: 0 2px;
            justify-content: flex-start;
            align-items: center;
            gap: 2px;
            cursor: pointer;
            transition: background 0.2s;
            color: var(--text);
        }
        
        .calendar-compact .day.selected {
            background: var(--card);
            color: var(--text);
            border: 2px solid var(--primary);
        }
        
        .calendar-compact .day.holiday {
            color: orange !important;
            font-weight: 600;
        }
        
        .calendar-compact .day.disabled {
            color: var(--disabled);
            background: var(--gray-light);
            cursor: not-allowed;
        }
        
        .week-nav {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin: 20px 0;
            padding: 10px;
            background: var(--card);
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .week-days {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex: 1;
        }
        
        .day-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
        }
        
        .prev-week,
        .next-week {
            background: none;
            border: none;
            font-size: 20px;
            color: var(--primary);
            cursor: pointer;
            padding: 10px;
            transition: all 0.3s ease;
        }
        
        .prev-week:hover,
        .next-week:hover {
            color: var(--accent);
            transform: scale(1.1);
        }
        
        .day {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        
        .day:hover {
            background-color: var(--hover);
        }
        
        .day.selected {
            background-color: var(--selected);
            color: var(--white);
        }
        
        .day.today {
            border: 2px solid var(--primary);
        }
        
        .day-header {
            font-size: 12px;
            font-weight: 600;
            color: var(--text);
        }
        /* Estilos para o calendário semanal */
        
        .calendar-week-view {
            background: var(--card);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
            animation: fadeIn 0.3s ease;
            position: relative;
        }
        
        .week-days,
        .week-days.slide-left,
        .week-days.slide-right {
            transition: transform 0.45s cubic-bezier(.77, 0, .18, 1), opacity 0.45s;
            will-change: transform, opacity;
        }
        
        .week-days.slide-left {
            transform: translateX(-100%);
            opacity: 0;
        }
        
        .week-days.slide-right {
            transform: translateX(100%);
            opacity: 0;
        }
        
        .week-days.active {
            transform: translateX(0);
            opacity: 1;
        }
        
        .week-navigation {
            display: grid;
            grid-template-columns: auto 1fr auto;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            width: 100%;
        }
        
        .week-days {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 10px;
            width: 100%;
        }
        
        .day-column {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 8px 4px;
            border-radius: 10px;
            transition: all 0.3s ease;
        }
        
        .week-day-name {
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 8px;
            font-size: 0.9rem;
            text-transform: uppercase;
        }
        
        .day {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            position: relative;
            background: var(--card);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            color: var(--text);
        }
        
        .day:hover {
            background: var(--primary-light);
            color: var(--white);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(26, 75, 140, 0.15);
        }
        
        .day.selected {
            background: linear-gradient(145deg, var(--primary), var(--accent));
            color: var(--white);
            box-shadow: 0 4px 15px rgba(26, 75, 140, 0.3);
        }
        
        .day.today {
            border: 2px solid var(--primary);
        }
        
        .prev-week,
        .next-week {
            width: 40px;
            height: 40px;
            border: none;
            border-radius: 50%;
            background: var(--card);
            color: var(--primary);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            z-index: 2;
        }
        
        .prev-week:hover,
        .next-week:hover {
            background: var(--primary);
            color: var(--white);
            transform: scale(1.05);
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        /* Time Slots */
        
        .time-slots {
            margin-top: 30px;
        }
        
        .time-slots-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--text);
        }
        
        .slots-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 10px;
        }
        
        .time-slot {
            background-color: var(--slot-bg);
            border-radius: 20px;
            padding: 10px;
            text-align: center;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
            color: var(--text);
        }
        
        .time-slot:hover {
            background-color: var(--hover);
            transform: scale(1.05);
        }
        
        .time-slot.selected {
            background-color: var(--selected);
            color: var(--white);
        }
        /* Confirmation Section */
        
        .confirmation-section {
            background-color: var(--card);
            border-radius: 10px;
            margin: 20px 0;
            padding: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            display: none;
            transition: background-color 0.3s;
        }
        
        .confirmation-details {
            margin: 20px 0;
            padding: 20px;
            background-color: var(--gray-light);
            border-radius: 10px;
        }
        
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border);
        }
        
        .detail-row:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        
        .detail-label {
            font-weight: 600;
            color: var(--text);
        }
        
        .detail-value {
            color: var(--text);
        }
        
        .confirm-button {
            background-color: var(--primary);
            color: var(--white);
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            display: block;
            width: 100%;
            margin-top: 20px;
            transition: background-color 0.3s, transform 0.2s;
        }
        
        .confirm-button:hover {
            background-color: var(--accent);
            transform: scale(1.02);
        }
        /* Footer Moderno */
        
        footer {
            background-color: var(--footer);
            color: var(--footer-text);
            padding: 50px 0 20px;
            margin-top: 60px;
            transition: background-color 0.3s;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 30px;
        }
        
        .footer-brand {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .footer-brand .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .footer-brand .logo-icon {
            width: 40px;
            height: 40px;
        }
        
        .footer-brand .logo-text {
            font-size: 22px;
            font-weight: 600;
            color: var(--footer-text);
        }
        
        .footer-brand .logo-text span {
            color: var(--primary);
        }
        
        .footer-brand .logo-text .highlight {
            color: var(--primary-dark);
        }
        
        .footer-slogan {
            color: rgba(255, 255, 255, 0.7);
            font-size: 14px;
            line-height: 1.5;
        }
        
        .footer-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 20px;
            color: var(--white);
            position: relative;
            padding-bottom: 10px;
        }
        
        .footer-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 40px;
            height: 2px;
            background-color: var(--primary-dark);
        }
        
        .footer-links {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .footer-links li {
            color: rgba(255, 255, 255, 0.7);
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 14px;
            transition: color 0.3s;
        }
        
        .footer-links i {
            width: 20px;
            text-align: center;
            color: var(--primary);
        }
        
        .social-links {
            display: flex;
            gap: 15px;
            margin-top: 10px;
        }
        
        .social-links a {
            width: 36px;
            height: 36px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            color: var(--white);
        }
        
        .social-links a:hover {
            background-color: var(--primary);
            transform: translateY(-3px);
        }
        
        .footer-bottom {
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            padding-top: 20px;
        }
        
        .copyright {
            text-align: center;
            color: rgba(255, 255, 255, 0.5);
            font-size: 13px;
        }
        /* Dark mode adjustments */
        
        .dark-mode footer {
            background-color: var(--footer);
        }
        
        .footer-admin-link-modern {
            display: inline-flex;
            align-items: center;
            gap: 3px;
            padding: 0;
            background: none;
            color: var(--white);
            font-size: 0.80rem;
            font-weight: 400;
            text-decoration: none;
            border: none;
            box-shadow: none;
            margin-top: 6px;
            letter-spacing: 0;
            cursor: pointer;
            transition: color 0.18s;
        }
        
        .footer-admin-link-modern i {
            font-size: 0.68em;
            margin-left: 1.5px;
            transition: transform 0.15s, color 0.18s;
            color: inherit;
        }
        
        .footer-admin-link-modern:hover,
        .footer-admin-link-modern:focus {
            color: var(--primary);
            text-decoration: underline;
        }
        
        .footer-admin-link-modern:hover i,
        .footer-admin-link-modern:focus i {
            transform: translateX(2px);
        }
        
        body.dark-mode .footer-admin-link-modern {
            color: #e0e0e0;
        }
        
        body.dark-mode .footer-admin-link-modern:hover,
        body.dark-mode .footer-admin-link-modern:focus {
            color: var(--primary);
        }
        
        .custom-modal {
            display: none;
            position: fixed;
            z-index: 9999;
            left: 0;
            top: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(26, 75, 140, 0.18);
            align-items: center;
            justify-content: center;
            transition: background 0.3s;
        }
        
        .custom-modal.active {
            display: flex;
            animation: fadeIn 0.3s;
        }
        
        @media (min-width: 600px) {
            .custom-modal {
                max-width: 420px;
                padding: 36px 32px;
            }
        }
        
        @media (min-width: 900px) {
            .custom-modal {
                max-width: 520px;
                padding: 48px 40px;
            }
        }
        
        .custom-modal-content {
            background: var(--card);
            color: var(--text);
            border-radius: 18px;
            box-shadow: 0 8px 32px rgba(26, 75, 140, 0.13);
            padding: 38px 28px 28px 28px;
            min-width: 320px;
            max-width: 90vw;
            width: 100%;
            text-align: center;
            position: relative;
            animation: slideUp 0.4s;
            font-size: 1.08rem;
        }
        /* Modal de "Meus agendamentos" */
        
        .custom-modal-input {
            width: 100%;
            padding: 10px 12px;
            border-radius: 8px;
            border: 1.5px solid var(--border);
            background: var(--card);
            color: var(--text);
            font-size: 1rem;
            margin-bottom: 6px;
            outline: none;
            transition: border 0.2s;
            box-sizing: border-box;
        }
        
        .custom-modal-input:focus {
            border-color: var(--primary);
        }
        /* Telas grandes */
        
        @media (min-width: 900px) {
            .custom-modal-content {
                min-width: 420px;
                max-width: 420px;
                padding: 48px 38px 38px 38px;
                font-size: 1.18rem;
            }
            .custom-modal-message {
                font-size: 1.08rem;
            }
            .custom-modal-btn {
                font-size: 1.08rem;
                padding: 12px 38px;
            }
        }
        /* Telas médias */
        
        @media (max-width: 899px) and (min-width: 481px) {
            .custom-modal-content {
                min-width: 280px;
                max-width: 360px;
                padding: 32px 18px 22px 18px;
                font-size: 1rem;
            }
            .custom-modal-message {
                font-size: 0.98rem;
            }
            .custom-modal-btn {
                font-size: 1rem;
                padding: 10px 28px;
            }
        }
        /* Telas pequenas */
        
        @media (max-width: 480px) {
            .custom-modal-content {
                min-width: 0;
                max-width: 96vw;
                padding: 18px 4vw 14px 4vw;
                font-size: 0.95rem;
            }
            .custom-modal-message {
                font-size: 0.93rem;
            }
            .custom-modal-btn {
                font-size: 0.95rem;
                padding: 8px 18px;
            }
        }
        
        .custom-modal-icon {
            font-size: 2.3rem;
            margin-bottom: 12px;
            color: var(--primary);
            display: flex;
            justify-content: center;
        }
        
        .custom-modal-message {
            font-size: 1.08rem;
            margin-bottom: 22px;
            color: var(--text);
            word-break: break-word;
            text-align: left !important;
        }
        
        .custom-modal-btn {
            background: var(--primary);
            color: #fff;
            border: none;
            border-radius: 22px;
            padding: 10px 32px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s, transform 0.18s;
            margin-top: 8px;
            box-shadow: 0 2px 8px rgba(26, 75, 140, 0.10);
        }
        
        .custom-modal-btn:hover {
            background: var(--accent);
            transform: scale(1.04);
        }
        
        .custom-modal-close {
            position: absolute;
            top: 14px;
            right: 18px;
            font-size: 1.3rem;
            color: var(--primary);
            cursor: pointer;
            font-weight: bold;
            transition: color 0.2s;
        }
        
        .custom-modal-close:hover {
            color: var(--primary-dark);
        }
        
        @media (max-width: 480px) {
            .custom-modal-content {
                min-width: 0;
                padding: 22px 8vw 18px 8vw;
            }
            .custom-modal-message {
                font-size: 0.98rem;
            }
        }
        /* Responsive */
        
        @media (max-width: 768px) {
            .footer-content {
                grid-template-columns: 1fr;
                gap: 30px;
            }
            .footer-brand {
                text-align: center;
                align-items: center;
            }
            .footer-title {
                margin-bottom: 15px;
            }
            .footer-links li {
                font-size: 13px;
            }
            /* Ajustes para os novos elementos */
            .social-icon-welcome {
                width: 36px;
                height: 36px;
                font-size: 16px;
            }
            .address-toggle {
                font-size: 15px;
            }
        }
        /* Animations */
        
        .animate-fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        
        .animate-slide-up {
            animation: slideUp 0.5s ease-in-out;
        }
        
        .animate-pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
        
        @keyframes slideUp {
            from {
                transform: translateY(20px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        @keyframes pulse {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
            100% {
                transform: scale(1);
            }
        }
        /* Responsive Design */
        
        @media screen and (max-width: 768px) {
            .navbar {
                flex-direction: column;
                gap: 15px;
            }
            .nav-links {
                width: 100%;
                justify-content: center;
            }
            .service-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }
            .book-button {
                align-self: flex-end;
            }
            .calendar-days {
                gap: 5px;
            }
            .day {
                height: 35px;
                width: 35px;
            }
            .slots-container {
                grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
            }
        }
        
        @media screen and (max-width: 480px) {
            .service-details {
                flex-direction: column;
                gap: 5px;
            }
            .slots-container {
                grid-template-columns: repeat(3, 1fr);
            }
            .calendar-days {
                font-size: 14px;
            }
            .day {
                height: 30px;
                width: 30px;
            }
        }
        /* Estilos responsivos para o calendário */
        
        @media screen and (max-width: 768px) {
            .calendar-week-view {
                padding: 15px;
                margin: 10px;
            }
            .week-days {
                gap: 8px;
            }
            .day-column {
                padding: 5px;
            }
            .day {
                width: 35px;
                height: 35px;
                font-size: 0.9rem;
            }
            .week-day-name {
                font-size: 0.8rem;
                margin-bottom: 8px;
            }
            .prev-week,
            .next-week {
                width: 35px;
                height: 35px;
                font-size: 1rem;
                padding: 8px;
            }
            .calendar-toggle {
                padding: 8px 15px;
                font-size: 0.9rem;
            }
            .calendar-toggle i {
                font-size: 1rem;
            }
        }
        
        @media screen and (max-width: 480px) {
            .calendar-week-view {
                padding: 10px;
                margin: 5px;
            }
            .week-days {
                gap: 4px;
            }
            .day-column {
                padding: 3px;
            }
            .day {
                width: 30px;
                height: 30px;
                font-size: 0.8rem;
            }
            .week-day-name {
                font-size: 0.7rem;
                margin-bottom: 6px;
            }
            .prev-week,
            .next-week {
                width: 30px;
                height: 30px;
                font-size: 0.9rem;
                padding: 6px;
            }
            /* Modo de visualização adaptativa para telas muito pequenas */
            @media screen and (max-width: 360px) {
                .week-day-name {
                    font-size: 0.6rem;
                }
                .day {
                    width: 25px;
                    height: 25px;
                    font-size: 0.75rem;
                }
            }
            /* Ajustes para orientação paisagem em dispositivos móveis */
            @media screen and (max-height: 480px) and (orientation: landscape) {
                .calendar-week-view {
                    padding: 8px;
                }
                .week-navigation {
                    margin-bottom: 10px;
                }
                .day {
                    width: 28px;
                    height: 28px;
                }
            }
        }
        /* Melhorias na acessibilidade e interação touch */
        
        @media (hover: none) {
            .day:hover,
            .prev-week:hover,
            .next-week:hover,
            .calendar-toggle:hover {
                transform: none;
            }
            .day:active,
            .prev-week:active,
            .next-week:active,
            .calendar-toggle:active {
                transform: scale(0.95);
            }
        }
        
        .prev-month-day {
            opacity: 0.5;
            cursor: pointer !important;
        }
        
        .prev-month-day:hover {
            opacity: 0.8;
            background-color: var(--hover);
        }
        
        .next-month-day {
            opacity: 0.5;
            cursor: pointer !important;
        }
        
        .next-month-day:hover {
            opacity: 0.8;
            background-color: var(--hover);
        }
    </style>
</head>

<body>
    <header>
        <div class="container">
            <nav class="navbar">
                <div class="logo">
                    <div class="logo-icon">
                        <img src="img/sua-logo.png" alt="Logo NaRégua" style="width: 40px; height: 40px; object-fit: contain; background: none; display: block;">
                    </div>
                    <div class="logo-text">NA<span>RÉGUA</span><span class="highlight">.</span></div>
                </div>
                <div class="nav-links">
                    <a href="#" class="my-appointments">Meus
                            agendamentos</a>
                    <button class="theme-toggle" id="themeToggle">
                            <i class="fas fa-moon"></i>
                        </button>
                </div>
            </nav>
        </div>
    </header>

    <main class="container">
        <section class="welcome-section animate-fade-in">
            <div class="profile-pic">
                <i class="fas fa-user-alt" style="font-size: 32px; color: #aaa;"></i>
            </div>
            <div class="welcome-text">Seja bem vindo(a) ao</div>
            <h1 class="barbershop-name">Barbearia Pablo do corte</h1>

            <!-- Ícones sociais adicionados -->
            <div class="social-icons-welcome">
                <a href="https://wa.me/5511999998888" target="_blank" class="social-icon-welcome" aria-label="WhatsApp">
                    <i class="fab fa-whatsapp"></i>
                </a>
                <a href="https://instagram.com/barbeariapablo" target="_blank" class="social-icon-welcome" aria-label="Instagram">
                    <i class="fab fa-instagram"></i>
                </a>
            </div>

            <!-- Componente de endereço adicionado -->
            <div class="address-container">
                <button class="address-toggle" id="addressToggle">
                        <i class="fas fa-map-marker-alt"></i> Ver endereço
                    </button>
                <div class="address-content" id="addressContent">
                    <p>Av. Principal, 123 - Centro</p>
                    <p>São Paulo - SP</p>
                    <a href="https://maps.google.com?q=Av.+Principal,+123+-+Centro,+São+Paulo+-+SP" target="_blank" class="map-link">
                        <i class="fas fa-external-link-alt"></i> Abrir no Google Maps
                    </a>
                </div>
            </div>
        </section>

        <section class="services-section animate-slide-up">
        </section>

        <section class="professionals-section animate-slide-up">
            <h2 class="section-title"><i class="fas fa-user-tie"></i> Selecione o profissional</h2>
            <div class="professional-list">
                <div class="professional-card selected" data-professional="Pablo barber">
                    <div class="professional-avatar">
                        <i class="fas fa-user" style="font-size: 24px; color: #aaa;"></i>
                    </div>
                    <div class="professional-name">Pablo barber</div>
                </div>

                <div class="professional-card" data-professional="Felipe silva">
                    <div class="professional-avatar">
                        <i class="fas fa-user" style="font-size: 24px; color: #aaa;"></i>
                    </div>
                    <div class="professional-name">Felipe silva</div>
                </div>

                <div class="professional-card" data-professional="Maria oliveira">
                    <div class="professional-avatar">
                        <i class="fas fa-user" style="font-size: 24px; color: #aaa;"></i>
                    </div>
                    <div class="professional-name">Maria oliveira</div>
                </div>

                <div class="professional-card" data-professional="Carlos santos">
                    <div class="professional-avatar">
                        <i class="fas fa-user" style="font-size: 24px; color: #aaa;"></i>
                    </div>
                    <div class="professional-name">Carlos santos</div>
                </div>
            </div>
        </section>

        <section class="calendar-section animate-fade-in" id="calendar-section">
            <h2 class="section-title"><i class="far fa-calendar-alt"></i> Selecione o horário de início</h2>
            <button class="calendar-toggle-btn" id="calendarToggleBtn">Visualização semanal</button>
            <div class="calendar-month">
                <div class="month-name">Maio 2025</div>
                <div class="calendar-nav">
                    <button class="prev-month"><i
                                class="fas fa-chevron-left"></i></button>
                    <button class="next-month"><i
                                class="fas fa-chevron-right"></i></button>
                </div>
            </div>
            <div class="calendar-days">
                <!-- Dias serão gerados dinamicamente pelo JavaScript -->
            </div>
            <div class="time-slots">
                <h3 class="time-slots-title">Horários disponíveis</h3>
                <div class="slots-container">
                    <div class="time-slot">09:10</div>
                    <div class="time-slot">09:20</div>
                    <div class="time-slot">09:30</div>
                    <div class="time-slot">09:40</div>
                    <div class="time-slot">09:50</div>
                    <div class="time-slot">10:00</div>
                    <div class="time-slot">10:10</div>
                    <div class="time-slot">10:20</div>
                    <div class="time-slot">10:30</div>
                    <div class="time-slot">11:20</div>
                    <div class="time-slot">11:30</div>
                    <div class="time-slot">11:40</div>
                    <div class="time-slot">16:00</div>
                    <div class="time-slot">16:10</div>
                    <div class="time-slot">16:20</div>
                    <div class="time-slot">16:30</div>
                    <div class="time-slot">16:40</div>
                    <div class="time-slot">16:50</div>
                    <div class="time-slot">17:00</div>
                </div>
            </div>
        </section>

        <section class="confirmation-section animate-fade-in" id="confirmation-section">
            <h2 class="section-title"><i class="fas fa-check-circle"></i> Confirmar agendamento</h2>

            <div class="confirmation-details">
                <div class="detail-row">
                    <div class="detail-label">Serviço:</div>
                    <div class="detail-value" id="confirm-service">Barba</div>
                </div>

                <div class="detail-row">
                    <div class="detail-label">Profissional:</div>
                    <div class="detail-value" id="confirm-professional">Pablo barber</div>
                </div>

                <div class="detail-row">
                    <div class="detail-label">Data:</div>
                    <div class="detail-value" id="confirm-date">07/05/2025</div>
                </div>

                <div class="detail-row">
                    <div class="detail-label">Horário:</div>
                    <div class="detail-value" id="confirm-time">09:30</div>
                </div>

                <div class="detail-row">
                    <div class="detail-label">Valor:</div>
                    <div class="detail-value" id="confirm-price">R$ 20,00
                    </div>
                </div>
            </div>

            <button class="confirm-button animate-pulse">Confirmar
                    Agendamento</button>
        </section>
    </main>

    <!-- Modais -->
    <div id="customModal" class="custom-modal">
        <div class="custom-modal-content">
            <span class="custom-modal-close" id="customModalClose">&times;</span>
            <div class="custom-modal-icon" id="customModalIcon"></div>
            <div class="custom-modal-message" id="customModalMessage"></div>
            <button class="custom-modal-btn" id="customModalBtn">OK</button>
        </div>
    </div>
    <!-- Modal de "Meus agendamentos" -->
    <div id="appointmentsModal" class="custom-modal">
        <div class="custom-modal-content">
            <span class="custom-modal-close" id="appointmentsModalClose">&times;</span>
            <div class="custom-modal-icon">
                <i class="fas fa-user-check" style="color:var(--primary);"></i>
            </div>
            <div class="custom-modal-message" style="margin-bottom:18px;">
                <label for="appointmentsName" style="display:block; margin-bottom:8px; font-weight:600;">Nome</label>
                <input id="appointmentsName" type="text" class="custom-modal-input" placeholder="Digite seu nome" autocomplete="off" style="margin-bottom:16px;">
                <label for="appointmentsPhone" style="display:block; margin-bottom:8px; font-weight:600;">Telefone</label>
                <input id="appointmentsPhone" type="tel" class="custom-modal-input" placeholder="(99) 99999-9999" autocomplete="off">
            </div>
            <button class="custom-modal-btn" id="appointmentsModalBtn">Ver
                    meus agendamentos</button>
        </div>
    </div>
    <!-- Modal de Login para Confirmação -->
    <div id="phoneModal" class="custom-modal">
        <div class="custom-modal-content">
            <span class="custom-modal-close" id="phoneModalClose">&times;</span>
            <div class="custom-modal-icon">
                <i class="fas fa-phone" style="color:var(--primary);"></i>
            </div>
            <p style="text-align: center; margin: 15px 0; color: var(--text); font-size: 16px;">
                Digite o número de telefone para continuar
            </p>
            <div class="custom-modal-message" style="margin-bottom:18px;">
                <label for="userPhone" style="display:block; margin-bottom:8px; font-weight:600;">Telefone</label>
                <input id="userPhone" type="tel" class="custom-modal-input" placeholder="(99) 99999-9999" autocomplete="off">
            </div>
            <button class="custom-modal-btn" id="phoneModalBtn">Continuar</button>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <div class="logo">
                        <div class="logo-icon">
                            <img src="img/sua-logo.png" alt="Logo NaRégua" style="width: 40px; height: 40px; object-fit: contain; background: none; display: block;">
                        </div>
                        <div class="logo-text">NA<span>RÉGUA</span><span class="highlight">.</span></div>
                    </div>
                    <div class="social-links">
                        <a href="#" aria-label="Instagram"><i
                                    class="fab fa-instagram"></i></a>
                        <a href="#" aria-label="WhatsApp"><i
                                    class="fab fa-whatsapp"></i></a>
                    </div>
                </div>

                <div class="footer-contact">
                    <h3 class="footer-title">Contato</h3>
                    <ul class="footer-links">
                        <li><i class="fas fa-phone"></i> (31) 98507-9718
                        </li>
                        <li><i class="fas fa-envelope"></i> pablo.silva.edu@gmail.com
                        </li>
                    </ul>
                </div>

                <div class="footer-barber">
                    <h3 class="footer-title">Barbeiro</h3>
                    <ul class="footer-links">
                        <li>
                            <i class="fas fa-user-shield"></i> Gerencie agendamentos, profissionais e horários.
                        </li>
                    </ul>
                    <a href="/dashboard/dashboard" class="footer-admin-link-modern">
                        <span>Área do barbeiro</span>
                        <i class="fas fa-arrow-right"></i>
                    </a>
                </div>
            </div>

            <div class="footer-bottom">
                <div class="copyright">
                    &copy; 2025 NaRégua. Todos os direitos reservados.
                </div>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', async function() {
            // Carregar serviços do backend
            const servicesSection = document.querySelector('.services-section');
            if (servicesSection) {
                try {
                    const res = await fetch('/dashboard/servicos');
                    const data = await res.json();
                    if (data.success && Array.isArray(data.servicos)) {
                        let html = `<h2 class="section-title"><i class="fas fa-cut"></i> Serviços</h2>
                        <div class="service-list">`;
                        data.servicos.forEach(servico => {
                            html += `
                            <div class="service-item">
                                <img class="service-image" src="${servico.imagem || 'img/servicos/default.jpg'}" alt="${servico.nome}">
                                <div class="service-info">
                                    <div class="service-name">${servico.nome}</div>
                                    <div class="service-details">
                                        <div class="service-time">
                                            <i class="far fa-clock"></i> ${servico.tempo}
                                        </div>
                                        <div class="service-price">
                                            <i class="fas fa-dollar-sign"></i> a partir de R$ ${Number(servico.preco).toFixed(2).replace('.', ',')}
                                        </div>
                                    </div>
                                </div>
                                <button class="book-button" data-service="${servico.nome}" data-price="${Number(servico.preco).toFixed(2)}" data-time="${servico.tempo}">
                                    <i class="far fa-calendar-alt"></i> Reservar
                                </button>
                            </div>
                            `;
                        });
                        html += `</div>`;
                        servicesSection.innerHTML = html;
                    } else {
                        servicesSection.innerHTML = '<div style="color:var(--primary-dark);padding:18px 0;text-align:center;">Nenhum serviço cadastrado.</div>';
                    }
                } catch (err) {
                    servicesSection.innerHTML = '<div style="color:var(--primary-dark);padding:18px 0;text-align:center;">Erro ao carregar serviços.</div>';
                }
            }

            // Variáveis para armazenar as seleções
            let selectedService = '';
            let selectedServicePrice = '';
            let selectedServiceTime = '';
            let selectedProfessional = 'Pablo barber';
            let selectedDate = null;
            let selectedTime = '';
            let currentSelectedButton = null;
            let calendarMode = 'month'; // Pode ser 'month' ou 'week'

            // Elementos da página
            const calendarSection = document.getElementById('calendar-section');
            const confirmationSection = document.getElementById('confirmation-section');
            const calendarDaysContainer = document.querySelector('.calendar-days');
            const monthNameElement = document.querySelector('.month-name');
            const calendarToggleBtn = document.getElementById('calendarToggleBtn');

            // Elementos do tema
            const themeToggle = document.getElementById('themeToggle');
            const themeIcon = themeToggle.querySelector('i');

            // Verificar preferência de tema no localStorage
            const currentTheme = localStorage.getItem('theme') || 'light';
            if (currentTheme === 'dark') {
                document.body.classList.add('dark-mode');
                themeIcon.classList.remove('fa-moon');
                themeIcon.classList.add('fa-sun');
            }

            // Alternar tema
            themeToggle.addEventListener('click', function() {
                document.body.classList.toggle('dark-mode');

                if (document.body.classList.contains('dark-mode')) {
                    themeIcon.classList.remove('fa-moon');
                    themeIcon.classList.add('fa-sun');
                    localStorage.setItem('theme', 'dark');
                } else {
                    themeIcon.classList.remove('fa-sun');
                    themeIcon.classList.add('fa-moon');
                    localStorage.setItem('theme', 'light');
                }
            });

            // Feriados (pode ser expandido)
            const holidays = {
                '1/1': 'Ano Novo',
                '21/4': 'Tiradentes',
                '1/5': 'Dia do Trabalho',
                '7/9': 'Independência',
                '12/10': 'Nossa Senhora Aparecida',
                '2/11': 'Finados',
                '15/11': 'Proclamação da República',
                '25/12': 'Natal'
            };

            // Inicializar calendário
            let currentDate = new Date();
            renderCalendar(currentDate);

            // Selecionar serviço
            const bookButtons = document.querySelectorAll('.book-button');
            bookButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // Remover seleção anterior
                    if (currentSelectedButton) {
                        currentSelectedButton.classList.remove('selected');
                    }

                    // Adicionar seleção atual
                    this.classList.add('selected');
                    currentSelectedButton = this;

                    selectedService = this.getAttribute('data-service');
                    selectedServicePrice = this.getAttribute('data-price');
                    selectedServiceTime = this.getAttribute('data-time');

                    // Mostrar a seção de calendário
                    calendarSection.style.display = 'block';

                    // Scroll para o calendário
                    calendarSection.scrollIntoView({
                        behavior: 'smooth'
                    });

                    // Atualizar os campos de confirmação
                    updateConfirmationDetails();
                });
            });

            // Selecionar profissional
            const professionalCards = document.querySelectorAll('.professional-card');
            professionalCards.forEach(card => {
                card.addEventListener('click', function() {
                    // Remover seleção anterior
                    professionalCards.forEach(c => c.classList.remove('selected'));

                    // Adicionar seleção atual
                    this.classList.add('selected');

                    // Guardar o profissional selecionado
                    selectedProfessional = this.getAttribute('data-professional');

                    // Atualizar os campos de confirmação
                    updateConfirmationDetails();
                });
            });

            // Navegação do calendário
            const prevMonthButton = document.querySelector('.prev-month');
            const nextMonthButton = document.querySelector('.next-month');

            prevMonthButton.addEventListener('click', function() {
                currentDate.setMonth(currentDate.getMonth() - 1);
                renderCalendar(currentDate);
            });

            nextMonthButton.addEventListener('click', function() {
                currentDate.setMonth(currentDate.getMonth() + 1);
                renderCalendar(currentDate);
            });

            // Alternar visualização do calendário
            calendarToggleBtn.addEventListener('click', function() {
                if (calendarMode === 'month') {
                    calendarMode = 'week';
                    calendarSection.classList.add('calendar-compact');
                    calendarToggleBtn.textContent = 'Visualização mensal';
                } else {
                    calendarMode = 'month';
                    calendarSection.classList.remove('calendar-compact');
                    calendarToggleBtn.textContent = 'Visualização semanal';
                }
                renderCalendar(currentDate);
            });

            // Renderizar calendário
            function renderCalendar(date) {
                const year = date.getFullYear();
                const month = date.getMonth();
                const today = new Date();

                const monthNames = ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho',
                    'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'
                ];

                monthNameElement.textContent = `${monthNames[month]} ${year}`;

                let days = '';
                const dayNames = ['DOM', 'SEG', 'TER', 'QUA', 'QUI', 'SEX', 'SAB'];

                if (calendarMode === 'week') {
                    // Encontrar o início da semana (domingo)
                    let weekStart = new Date(date);
                    weekStart.setDate(date.getDate() - date.getDay());

                    // Cabeçalho dos dias da semana
                    days += '<div class="calendar-week-view">';
                    days += '<div class="week-navigation">';
                    days += '<button class="prev-week"><i class="fas fa-chevron-left"></i></button>';
                    days += '<div class="week-days">';

                    // Gerar os 7 dias da semana
                    const today = new Date();
                    today.setHours(0, 0, 0, 0);

                    const weekDayNames = ['DOM', 'SEG', 'TER', 'QUA', 'QUI', 'SEX', 'SAB'];
                    for (let i = 0; i < 7; i++) {
                        const weekDay = new Date(weekStart);
                        weekDay.setDate(weekStart.getDate() + i);
                        weekDay.setHours(0, 0, 0, 0);

                        let dayClass = 'day';
                        if (weekDay < today) {
                            dayClass += ' past-day';
                        }
                        if (
                            weekDay.getDate() === today.getDate() &&
                            weekDay.getMonth() === today.getMonth() &&
                            weekDay.getFullYear() === today.getFullYear()
                        ) {
                            dayClass += ' today';
                        }

                        // Adicione o nome do dia acima do número
                        days += `<div class="day-column">
                                    <div class="week-day-name">${weekDayNames[i]}</div>
                                    <div class="${dayClass}" data-date="${weekDay.toLocaleDateString('pt-BR')}">${weekDay.getDate()}</div>
                                </div>`;
                    }

                    days += '</div>';
                    days += '<button class="next-week"><i class="fas fa-chevron-right"></i></button>';
                    days += '</div></div>';
                } else {
                    // Código existente do calendário mensal
                    dayNames.forEach(day => {
                        days += `<div class="day-header">${day}</div>`;
                    });
                    const firstDay = new Date(year, month, 1);
                    const lastDay = new Date(year, month + 1, 0);
                    const prevLastDay = new Date(year, month, 0).getDate();
                    const firstDayIndex = firstDay.getDay();
                    const lastDayIndex = lastDay.getDay();
                    const nextDays = 7 - lastDayIndex - 1;

                    const today = new Date();
                    today.setHours(0, 0, 0, 0); // Garante comparação só por data

                    for (let i = firstDayIndex; i > 0; i--) {
                        const prevMonthDate = new Date(year, month - 1, prevLastDay - i + 1);
                        const dateStr = `${String(prevLastDay - i + 1).padStart(2, '0')}/${String(month).padStart(2, '0')}/${year}`;
                        days += `<div class="day disabled prev-month-day" 
                            data-date="${dateStr}" 
                            data-month="${month === 0 ? 12 : month}"
                            data-year="${month === 0 ? year - 1 : year}">
                            ${prevLastDay - i + 1}
                        </div>`;
                    }
                    for (let i = 1; i <= lastDay.getDate(); i++) {
                        const dayDate = new Date(year, month, i);
                        dayDate.setHours(0, 0, 0, 0);

                        let dayClass = 'day';
                        if (dayDate < today) {
                            dayClass += ' past-day';
                        }
                        const isToday = i === today.getDate() && month === today.getMonth() && year === today.getFullYear();
                        if (isToday) dayClass += ' today';
                        if (selectedDate) {
                            const [sd, sm, sy] = selectedDate.split('/');
                            if (Number(sd) === i && Number(sm) === month + 1 && Number(sy) === year) {
                                dayClass += ' selected';
                            }
                        }
                        const dateStr = `${String(i).padStart(2, '0')}/${String(month+1).padStart(2, '0')}/${year}`;
                        // Ao criar cada dia:
                        if (selectedDate === dateStr) {
                            dayClass += ' selected';
                        }
                        days += `<div class="${dayClass}" data-date="${dateStr}">${i}</div>`;
                    }
                    for (let i = 1; i <= nextDays; i++) {
                        const nextMonthDate = new Date(year, month + 1, i);
                        const dateStr = `${String(i).padStart(2, '0')}/${String(month + 2).padStart(2, '0')}/${month === 11 ? year + 1 : year}`;
                        days += `<div class="day disabled next-month-day" 
                            data-date="${dateStr}"
                            data-month="${month === 11 ? 1 : month + 2}"
                            data-year="${month === 11 ? year + 1 : year}">
                            ${i}
                        </div>`;
                    }
                }

                calendarDaysContainer.innerHTML = days;

                // Adicionar event listeners para os botões de navegação semanal
                if (calendarMode === 'week') {
                    document.querySelector('.prev-week').addEventListener('click', () => {
                        animateWeekTransition('right', () => {
                            currentDate.setDate(currentDate.getDate() - 7);
                            renderCalendar(currentDate);
                        });
                    });

                    document.querySelector('.next-week').addEventListener('click', () => {
                        animateWeekTransition('left', () => {
                            currentDate.setDate(currentDate.getDate() + 7);
                            renderCalendar(currentDate);
                        });
                    });

                    // Após renderizar, marque a semana como ativa para a transição inicial
                    setTimeout(() => {
                        const weekDays = document.querySelector('.week-days');
                        if (weekDays) weekDays.classList.add('active');
                    }, 10);
                }

                // Adicionar event listeners para os dias
                const dayElements = document.querySelectorAll('.day');
                dayElements.forEach(day => {
                    day.addEventListener('click', function() {
                        // Se for um dia do mês anterior
                        if (this.classList.contains('prev-month-day')) {
                            currentDate.setMonth(currentDate.getMonth() - 1);
                            renderCalendar(currentDate);

                            setTimeout(() => {
                                const dayToSelect = this.textContent.trim();
                                const newDays = document.querySelectorAll('.day:not(.disabled)');
                                newDays.forEach(newDay => {
                                    if (newDay.textContent.trim() === dayToSelect) {
                                        newDay.click();
                                        newDay.scrollIntoView({
                                            behavior: 'smooth',
                                            block: 'center'
                                        });
                                    }
                                });
                            }, 100);
                            return;
                        }

                        // Se for um dia do próximo mês
                        if (this.classList.contains('next-month-day')) {
                            currentDate.setMonth(currentDate.getMonth() + 1);
                            renderCalendar(currentDate);

                            setTimeout(() => {
                                const dayToSelect = this.textContent.trim();
                                const newDays = document.querySelectorAll('.day:not(.disabled)');
                                newDays.forEach(newDay => {
                                    if (newDay.textContent.trim() === dayToSelect) {
                                        newDay.click();
                                        newDay.scrollIntoView({
                                            behavior: 'smooth',
                                            block: 'center'
                                        });
                                    }
                                });
                            }, 100);
                            return;
                        }

                        // Código existente para dias normais
                        dayElements.forEach(d => d.classList.remove('selected'));
                        this.classList.add('selected');

                        const dateStr = this.getAttribute('data-date');
                        const [d, m, y] = dateStr.split('/');
                        selectedDate = `${d.padStart(2, '0')}/${m.padStart(2, '0')}/${y}`;

                        updateConfirmationDetails();
                        confirmationSection.style.display = 'block';
                    });
                });

                document.querySelectorAll('.day').forEach(dayEl => {
                    // Para modo mensal
                    if (dayEl.hasAttribute('data-day')) {
                        const year = Number(dayEl.getAttribute('data-year'));
                        const month = Number(dayEl.getAttribute('data-month')) - 1;
                        const day = Number(dayEl.getAttribute('data-day'));
                        const dateObj = new Date(year, month, day);
                        const weekDay = dateObj.getDay();
                        if (weekDay === 0) dayEl.classList.add('sunday');
                        if (weekDay === 6) dayEl.classList.add('saturday');
                    }
                    // Para modo semanal
                    if (dayEl.hasAttribute('data-date')) {
                        const [d, m, y] = dayEl.getAttribute('data-date').split('/');
                        const dateObj = new Date(Number(y), Number(m) - 1, Number(d));
                        const weekDay = dateObj.getDay();
                        if (weekDay === 0) dayEl.classList.add('sunday');
                        if (weekDay === 6) dayEl.classList.add('saturday');
                    }
                });

                document.querySelectorAll('.day').forEach(dayEl => {
                    dayEl.addEventListener('click', function() {
                        if (this.classList.contains('past-day')) {
                            document.querySelector('.time-slots').style.display = 'none';
                            return;
                        }
                        // ...código normal para dias válidos...
                        document.querySelector('.time-slots').style.display = '';
                    });
                });
            }

            // Selecionar horário
            const timeSlots = document.querySelectorAll('.time-slot');
            timeSlots.forEach(slot => {
                slot.addEventListener('click', function() {
                    // Remover seleção anterior
                    timeSlots.forEach(s => s.classList.remove('selected'));

                    // Adicionar seleção atual
                    this.classList.add('selected');

                    // Guardar o horário selecionado
                    selectedTime = this.textContent;

                    // Mostrar a seção de confirmação
                    confirmationSection.style.display = 'block';

                    // Atualizar os campos de confirmação
                    updateConfirmationDetails();

                    // Scroll para a confirmação
                    confirmationSection.scrollIntoView({
                        behavior: 'smooth'
                    });
                });
            });

            // Atualizar detalhes de confirmação
            function updateConfirmationDetails() {
                document.getElementById('confirm-service').textContent = selectedService || '-';
                document.getElementById('confirm-professional').textContent = selectedProfessional || '-';
                document.getElementById('confirm-date').textContent = selectedDate || '-';
                document.getElementById('confirm-time').textContent = selectedTime || '-';
                document.getElementById('confirm-price').textContent = selectedServicePrice ? `R$ ${selectedServicePrice}` : '-';
            }

            // Botão de confirmação final
            const confirmButton = document.querySelector('.confirm-button');
            const phoneModal = document.getElementById('phoneModal');
            const phoneModalClose = document.getElementById('phoneModalClose');
            const phoneModalBtn = document.getElementById('phoneModalBtn');
            const userPhone = document.getElementById('userPhone');

            confirmButton.addEventListener('click', async function() {
                if (selectedService && selectedProfessional && selectedDate && selectedTime) {
                    // Abre o modal de telefone
                    phoneModal.classList.add('active');
                    userPhone.value = '';
                    userPhone.focus();
                } else {
                    showCustomModal({
                        message: 'Por favor, complete todas as informações para agendar.',
                        icon: '<i class="fas fa-exclamation-triangle" style="color:var(--primary-dark);"></i>',
                        btnText: 'OK'
                    });
                }
            });

            // Fechar modal de telefone
            phoneModalClose.onclick = () => phoneModal.classList.remove('active');

            // Fechar ao clicar fora do conteúdo
            phoneModal.onclick = function(e) {
                if (e.target === phoneModal) phoneModal.classList.remove('active');
            };

            // Ação do botão do modal de telefone
            phoneModalBtn.onclick = async function() {
                const tel = userPhone.value.trim();
                userPhone.style.borderColor = '';

                if (!tel) {
                    userPhone.style.borderColor = 'var(--primary-dark)';
                    return;
                }

                // Salvar no banco via API
                try {
                    const res = await fetch('/agendamento/novo', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            nome: '', // Você pode pedir o nome do usuário se quiser
                            telefone: tel,
                            servico: selectedService,
                            profissional: selectedProfessional,
                            data: selectedDate.split('/').reverse().join('-'), // dd/mm/yyyy -> yyyy-mm-dd
                            hora: selectedTime,
                            preco: selectedServicePrice.replace('R$', '').replace(',', '.').trim()
                        })
                    });
                    if (res.ok) {
                        // Fecha o modal de telefone
                        phoneModal.classList.remove('active');
                        showCustomModal({
                            message: `<strong>Agendamento confirmado!</strong><br><br>
                            <b>Serviço:</b> ${selectedService}<br>
                            <b>Profissional:</b> ${selectedProfessional}<br>
                            <b>Data:</b> ${selectedDate}<br>
                            <b>Horário:</b> ${selectedTime}<br>
                            <b>Valor:</b> R$ ${selectedServicePrice}<br>
                            <b>Telefone:</b> ${tel}`,
                            icon: '<i class="fas fa-check-circle" style="color:var(--success);"></i>',
                            btnText: 'Fechar',
                            onClose: function() {
                                setTimeout(() => {
                                    location.reload();
                                }, 300);
                            }
                        });
                    } else {
                        alert('Erro ao salvar agendamento!');
                    }
                } catch (err) {
                    alert('Erro ao conectar ao servidor.');
                }
            };

            // Novo código para o endereço
            const addressToggle = document.getElementById('addressToggle');
            const addressContent = document.getElementById('addressContent');

            addressToggle.addEventListener('click', function() {
                if (addressContent.style.display === 'block') {
                    addressContent.style.display = 'none';
                    this.innerHTML = '<i class="fas fa-map-marker-alt"></i> Ver endereço';
                } else {
                    addressContent.style.display = 'block';
                    this.innerHTML = '<i class="fas fa-map-marker-alt"></i> Ocultar endereço';
                }
            });

            // Atualizar dia selecionado
            function updateSelectedDay(dateStr) {
                // Remove seleção anterior
                document.querySelectorAll('.day.selected').forEach(el => el.classList.remove('selected'));
                // Seleciona o novo dia em ambos os calendários
                document.querySelectorAll(`.day[data-date="${dateStr}"]`).forEach(el => el.classList.add('selected'));
                selectedDate = dateStr;
                // Atualize horários ou detalhes conforme necessário
                // Exemplo: updateConfirmationDetails();
            }

            function animateWeekTransition(direction, callback) {
                const weekDays = document.querySelector('.week-days');
                if (!weekDays) {
                    callback();
                    return;
                }
                weekDays.classList.remove('active', 'slide-left', 'slide-right');
                void weekDays.offsetWidth; // Força reflow

                weekDays.classList.add(direction === 'left' ? 'slide-left' : 'slide-right');
                setTimeout(() => {
                    callback();
                    setTimeout(() => {
                        const newWeekDays = document.querySelector('.week-days');
                        if (newWeekDays) {
                            newWeekDays.classList.add('active');
                        }
                    }, 10);
                }, 450); // Tempo igual ao transition do CSS
            }

            // Código para o modal de "Meus agendamentos"
            const myAppointmentsBtn = document.querySelector('.my-appointments');
            const appointmentsModal = document.getElementById('appointmentsModal');
            const appointmentsModalClose = document.getElementById('appointmentsModalClose');
            const appointmentsModalBtn = document.getElementById('appointmentsModalBtn');
            const appointmentsName = document.getElementById('appointmentsName');
            const appointmentsPhone = document.getElementById('appointmentsPhone');

            // Abrir modal ao clicar em "Meus agendamentos"
            myAppointmentsBtn.addEventListener('click', function(e) {
                e.preventDefault();
                appointmentsModal.classList.add('active');
                appointmentsName.value = '';
                appointmentsPhone.value = '';
                appointmentsName.focus();
            });

            // Fechar modal
            appointmentsModalClose.onclick = () => appointmentsModal.classList.remove('active');

            // Fechar ao clicar fora do conteúdo
            appointmentsModal.onclick = function(e) {
                if (e.target === appointmentsModal) appointmentsModal.classList.remove('active');
            };

            // Ação do botão do modal
            appointmentsModalBtn.onclick = async function() {
                const nome = appointmentsName.value.trim();
                const tel = appointmentsPhone.value.trim();

                appointmentsName.style.borderColor = '';
                appointmentsPhone.style.borderColor = '';

                let erro = false;
                if (!nome) {
                    appointmentsName.style.borderColor = 'var(--primary-dark)';
                    erro = true;
                }
                if (!tel) {
                    appointmentsPhone.style.borderColor = 'var(--primary-dark)';
                    erro = true;
                }
                if (erro) {
                    // Não exibe modal de aviso, apenas borda vermelha
                    return;
                }

                // Buscar agendamentos do usuário
                try {
                    const res = await fetch(`/agendamento/meus?telefone=${encodeURIComponent(tel)}`);
                    const data = await res.json();
                    if (data.success && data.agendamentos.length > 0) {
                        let html = `<b style="color:var(--text-main);">Olá, ${nome}!</b><br><br>
                        <div style="display: flex; flex-direction: column; gap: 18px;">`;
                        data.agendamentos.forEach(ag => {
                            html += `
                            <div style="
                                border: 1px solid var(--border);
                                border-radius: 12px;
                                padding: 12px 18px;
                                display: flex;
                                flex-direction: column;
                                gap: 6px;
                                background: var(--card);
                                margin-bottom: 8px;
                                position: relative;
                            ">
                                <div>
                                    <span style="font-weight: 500; color: var(--text-secondary);">Serviço:</span>
                                    <span style="color:var(--text-main);">${ag.servico}</span>
                                </div>
                                <div>
                                    <span style="font-weight: 500; color: var(--text-secondary);">Profissional:</span>
                                    <span style="color:var(--text-main);">${ag.profissional}</span>
                                </div>
                                <div>
                                    <span style="font-weight: 500; color: var(--text-secondary);">Data:</span>
                                    <span style="color:var(--text-main);">${ag.data.split('-').reverse().join('/')}</span>
                                </div>
                                <div>
                                    <span style="font-weight: 500; color: var(--text-secondary);">Horário:</span>
                                    <span style="color:var(--text-main);">${ag.hora}</span>
                                </div>
                                <div>
                                    <span style="font-weight: 500; color: var(--text-secondary);">Valor:</span>
                                    <span style="color:var(--success); font-weight: bold;">R$ ${Number(ag.preco).toFixed(2).replace('.', ',')}</span>
                                </div>
                                <button class="delete-appointment-btn" data-id="${ag.id}" style="
                                    margin-top: 8px;
                                    align-self: flex-end;
                                    background: var(--primary-dark);
                                    color: #fff;
                                    border: none;
                                    border-radius: 6px;
                                    padding: 6px 16px;
                                    font-size: 0.98rem;
                                    cursor: pointer;
                                    transition: background 0.2s;
                                ">
                                    <i class="fas fa-trash"></i> Excluir
                                </button>
                            </div>
                            `;
                        });
                        html += '</div>';
                        appointmentsModal.classList.remove('active');
                        showCustomModal({
                            message: html,
                            icon: `<i class="fas fa-calendar-check" style="color:var(--primary);"></i>`,
                            btnText: 'Fechar'
                        });

                        // Ativar botões de exclusão
                        setTimeout(() => {
                            document.querySelectorAll('.delete-appointment-btn').forEach(btn => {
                                btn.onclick = async function() {
                                    const id = this.getAttribute('data-id');
                                    try {
                                        const res = await fetch(`/agendamento/excluir/${id}`, {
                                            method: 'DELETE'
                                        });
                                        const result = await res.json();
                                        if (result.success) {
                                            this.closest('div').remove();
                                            showCustomModal({
                                                message: 'Agendamento excluído com sucesso!',
                                                icon: '<i class="fas fa-check-circle" style="color:var(--success);"></i>',
                                                btnText: 'Fechar'
                                            });
                                        } else {
                                            showCustomModal({
                                                message: 'Erro ao excluir agendamento.',
                                                icon: '<i class="fas fa-exclamation-triangle" style="color:var(--primary-dark);"></i>',
                                                btnText: 'Fechar'
                                            });
                                        }
                                    } catch (err) {
                                        showCustomModal({
                                            message: 'Erro ao conectar ao servidor.',
                                            icon: '<i class="fas fa-exclamation-triangle" style="color:var(--primary-dark);"></i>',
                                            btnText: 'Fechar'
                                        });
                                    }
                                };
                            });
                        }, 100);
                    } else {
                        appointmentsModal.classList.remove('active');
                        showCustomModal({
                            message: `<b>Olá, ${nome}!</b><br>Você ainda não possui agendamentos.`,
                            icon: '<i class="fas fa-calendar-check" style="color:var(--primary);"></i>',
                            btnText: 'Fechar'
                        });
                    }
                } catch (err) {
                    appointmentsModal.classList.remove('active');
                    showCustomModal({
                        message: 'Erro ao buscar agendamentos.',
                        icon: '<i class="fas fa-exclamation-triangle" style="color:var(--primary-dark);"></i>',
                        btnText: 'Fechar'
                    });
                }
            };
        });

        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('day') && !e.target.classList.contains('past-day')) {
                const dateStr = e.target.getAttribute('data-date');
                updateSelectedDay(dateStr);
            }
        });

        // Substitua os alerts por esta função e use-a nos lugares dos alerts
        function showCustomModal({
            message,
            icon = '',
            btnText = 'OK',
            onClose = null
        }) {
            const modal = document.getElementById('customModal');
            const modalMsg = document.getElementById('customModalMessage');
            const modalIcon = document.getElementById('customModalIcon');
            const modalBtn = document.getElementById('customModalBtn');
            const modalClose = document.getElementById('customModalClose');

            modalMsg.innerHTML = message;
            modalIcon.innerHTML = icon;
            modalBtn.textContent = btnText;

            function closeModal() {
                modal.classList.remove('active');
                if (onClose) onClose();
            }

            modalBtn.onclick = closeModal;
            modalClose.onclick = closeModal;

            modal.classList.add('active');
        }
    </script>
</body>

</html>
